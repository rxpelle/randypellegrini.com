<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Randy Pellegrini | Official Site</title>
    <meta
      name="description"
      content="Official author website for Randy Pellegrini. New releases, book details, and a simple storefront."
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,400;9..144,600;9..144,700&family=Public+Sans:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="page">
      <header class="site-header">
        <a class="logo" href="#top">Randy Pellegrini</a>
        <nav class="nav">
          <a href="#books">Books</a>
          <a href="#about">About</a>
          <a href="#newsletter">Updates</a>
          <a href="#contact">Contact</a>
        </nav>
        <a class="button small" href="#books">Buy Books</a>
      </header>

      <main id="top">
        <section class="hero">
          <div class="hero-copy reveal">
            <p class="eyebrow">Historical suspense and luminous conspiracies</p>
            <h1>Randy Pellegrini</h1>
            <p class="lead">
              Stories about hidden knowledge, relentless pursuit, and the people
              who keep a spark alive.
            </p>
            <div class="cta-row">
              <a class="button" href="#books">Explore books</a>
              <a class="button ghost" href="#newsletter">Get release alerts</a>
            </div>
            <div class="meta">
              <span>Based in City, State</span>
              <span>Speaking and interviews available</span>
            </div>
          </div>

          <div class="hero-card reveal delay-1">
            <div class="cover">
              <img
                src="assets/book-cover.png"
                alt="The Aethelred Cipher book cover"
                loading="lazy"
              />
            </div>
            <div class="card-body">
              <p class="card-title">The Aethelred Cipher</p>
              <p class="card-desc">
                A relentless chase across plague-era Europe, where a single key
                can rewrite the future.
              </p>
              <div class="card-actions">
                <a class="text-link" href="#books">See details</a>
                <a class="text-link" href="#books">Buy now</a>
              </div>
            </div>
          </div>
        </section>

        <section id="books" class="section books">
          <div class="section-header reveal">
            <h2>Books</h2>
            <p>
              Each title is available in ebook, print, and signed editions.
              Replace the links with your storefront URLs.
            </p>
          </div>
          <div class="book-grid">
            <article class="book-card reveal delay-1">
              <div class="book-cover">
                <img
                  src="assets/book-cover.png"
                  alt="The Aethelred Cipher book cover"
                  loading="lazy"
                />
              </div>
              <div>
                <h3>The Aethelred Cipher</h3>
                <p>
                  A monk, a rogue warrior, and a hidden cipher ignite a
                  continent-wide hunt.
                </p>
                <div class="button-row">
                  <a class="button outline" href="#">Buy direct</a>
                  <a class="button ghost" href="#">Retailers</a>
                </div>
              </div>
            </article>

            <article class="book-card reveal delay-2">
              <div class="book-cover alt" role="img" aria-label="Book cover">
                <span>Cover 02</span>
              </div>
              <div>
                <h3>Book Title Two</h3>
                <p>
                  The conspiracy deepens as the keys multiply and loyalty is
                  tested.
                </p>
                <div class="button-row">
                  <a class="button outline" href="#">Preorder</a>
                  <a class="button ghost" href="#">Retailers</a>
                </div>
              </div>
            </article>
          </div>
        </section>

        <section id="about" class="section about">
          <div class="about-card reveal">
            <div class="portrait" role="img" aria-label="Author portrait">
              <span>Author Photo</span>
            </div>
            <div>
              <h2>About the Author</h2>
              <p>
                Randy Pellegrini writes immersive thrillers that blend history,
                faith, and forbidden knowledge. Their work explores how ordinary
                people become stewards of stories that refuse to die.
              </p>
              <p>
                When not writing, they research medieval archives, collect
                folktales, and map future story worlds.
              </p>
            </div>
          </div>
        </section>

        <section id="newsletter" class="section newsletter">
          <div class="newsletter-card reveal">
            <div>
              <h2>Get release alerts</h2>
              <p>
                Join the list for new books, signed editions, and event
                announcements. One email per month.
              </p>
            </div>
            <form
              id="newsletter-form"
              class="signup"
              method="post"
              action="https://app.kit.com/forms/9022874/subscriptions"
            >
              <label class="sr-only" for="email">Email address</label>
              <input
                id="email"
                name="email_address"
                type="email"
                placeholder="you@email.com"
                required
                aria-label="Email address"
              />
              <button class="button" type="submit" id="submit-btn">
                <span id="button-text">Sign up</span>
              </button>
            </form>
            <div id="form-messages" style="display: none;"></div>
            <p class="form-note">
              No spam. Unsubscribe anytime.
            </p>
          </div>
        </section>

        <section id="contact" class="section contact">
          <div class="section-header reveal">
            <h2>Contact</h2>
            <p>
              For events, interviews, and rights inquiries, reach out directly.
            </p>
          </div>
          <div class="contact-row reveal delay-1">
            <a class="contact-card" href="mailto:randypellegrini@gmail.com">
              <span>Email</span>
              <strong>randypellegrini@gmail.com</strong>
            </a>
            <a class="contact-card" href="#">
              <span>Instagram</span>
              <strong>@authorhandle</strong>
            </a>
            <a class="contact-card" href="#">
              <span>Goodreads</span>
              <strong>Follow</strong>
            </a>
          </div>
        </section>
      </main>

      <footer class="site-footer">
        <p>Copyright 2025 Randy Pellegrini. All rights reserved.</p>
        <div class="footer-links">
          <a href="#books">Books</a>
          <a href="#newsletter">Updates</a>
          <a href="#contact">Contact</a>
        </div>
      </footer>
    </div>

    <script>
      // Newsletter form handling
      const form = document.getElementById('newsletter-form');
      const submitBtn = document.getElementById('submit-btn');
      const buttonText = document.getElementById('button-text');
      const formMessages = document.getElementById('form-messages');
      const emailInput = document.getElementById('email');

      form.addEventListener('submit', async (e) => {
        e.preventDefault();

        // Disable button and show loading state
        submitBtn.disabled = true;
        buttonText.textContent = 'Subscribing...';
        formMessages.style.display = 'none';

        const formData = new FormData(form);

        try {
          const response = await fetch(form.action, {
            method: 'POST',
            body: formData,
            headers: {
              'Accept': 'application/json'
            },
            mode: 'no-cors' // ConvertKit requires this for cross-origin requests
          });

          // With no-cors mode, we can't read the response, so we assume success
          // Success
          formMessages.innerHTML = '✓ Success! Check your email to confirm your subscription.';
          formMessages.style.display = 'block';
          formMessages.style.color = '#0c905c';
          formMessages.style.marginTop = '12px';
          formMessages.style.fontWeight = '600';
          form.reset();
          buttonText.textContent = 'Subscribed!';

          // Reset button after 3 seconds
          setTimeout(() => {
            submitBtn.disabled = false;
            buttonText.textContent = 'Sign up';
          }, 3000);
        } catch (error) {
          // Error
          formMessages.innerHTML = '⚠ Something went wrong. Please try again.';
          formMessages.style.display = 'block';
          formMessages.style.color = '#ea4110';
          formMessages.style.marginTop = '12px';
          submitBtn.disabled = false;
          buttonText.textContent = 'Sign up';
        }
      });
    </script>
  </body>
</html>
