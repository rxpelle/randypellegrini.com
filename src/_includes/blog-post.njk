---
layout: base.njk
---
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": {{ title | dump | safe }},
  "description": {{ description | dump | safe }},
  "author": {
    "@type": "Person",
    "name": "Randy Pellegrini",
    "url": "https://randypellegrini.com"
  },
  "publisher": {
    "@type": "Person",
    "name": "Randy Pellegrini"
  },
  "url": "{{ ogUrl | default(site.url + page.url) }}",
  "mainEntityOfPage": "{{ ogUrl | default(site.url + page.url) }}",
  "isPartOf": {
    "@type": "Blog",
    "name": "The Architecture of Survival Blog",
    "url": "https://randypellegrini.com/blog.html"
  }
}
</script>
<div class="article-container">
  <div class="article-header reveal">
    <p class="eyebrow">{{ bookTag }} &mdash; Essay {{ number }} of {{ collections.blog | length }}</p>
    <h1>{{ heading | default(title) | safe }}</h1>
    <p class="article-meta">By Randy Pellegrini</p>
  </div>

  <div class="article-body reveal delay-1">
    {{ content | safe }}
  </div>

  <div class="article-cta reveal delay-2">
    <h3>{{ ctaTitle | default("Read The Aethelred Cipher") }}</h3>
    <p>{{ ctaText | safe }}</p>
    <a class="button" href="{{ site.amazonUrl }}" target="_blank" rel="noopener noreferrer">Get your copy &rarr;</a>
  </div>

  <div class="article-nav">
    {% if prevPost %}<a href="{{ prevPost }}">&larr; {{ prevTitle }}</a>{% endif %}
    {% if nextPost %}<a href="{{ nextPost }}">{{ nextTitle }} &rarr;</a>{% else %}<a href="/blog.html">All posts &rarr;</a>{% endif %}
  </div>
</div>
